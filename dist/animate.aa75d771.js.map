{"version":3,"sources":["animate/index.ts"],"names":[],"mappings":"AAAA,IAAI,GAAG,GAAG,IAAI,KAAJ,EAAV;AACA,IAAI,IAAI,GAAG,IAAI,KAAJ,EAAX;AACA,IAAI,KAAK,GAAG,IAAI,KAAJ,EAAZ;;AAEA,MAAM,CAAC,MAAP,GAAgB,YAAA;AACZ,EAAA,IAAI;AACP,CAFD;;AAIA,SAAS,IAAT,GAAa;AACT,EAAA,GAAG,CAAC,GAAJ,GAAU,wDAAV;AACA,EAAA,IAAI,CAAC,GAAL,GAAW,yDAAX;AACA,EAAA,KAAK,CAAC,GAAN,GAAY,0DAAZ;AAEA,EAAA,MAAM,CAAC,qBAAP,CAA6B,KAA7B;AACA,EAAA,MAAM,CAAC,qBAAP,CAA6B,KAA7B;AACH,EAED;;;AACA,SAAS,KAAT,GAAc;AACV,MAAI,MAAM,GAAsB,QAAQ,CAAC,cAAT,CAAwB,OAAxB,CAAhC;AACA,MAAI,GAAG,GAAG,MAAM,CAAC,UAAP,CAAkB,IAAlB,CAAV,CAFU,CAIV;;AACA,EAAA,GAAG,CAAC,wBAAJ,GAA+B,kBAA/B;AACA,EAAA,GAAG,CAAC,SAAJ,CAAc,CAAd,EAAiB,CAAjB,EAAoB,GAApB,EAAyB,GAAzB;AAEA,EAAA,GAAG,CAAC,SAAJ,GAAgB,oBAAhB;AACA,EAAA,GAAG,CAAC,WAAJ,GAAkB,wBAAlB,CATU,CAWV;;AACA,EAAA,GAAG,CAAC,IAAJ,GAZU,CAcV;;AACA,EAAA,GAAG,CAAC,SAAJ,CAAc,GAAd,EAAmB,GAAnB;AAEA,MAAI,IAAI,GAAG,IAAI,IAAJ,EAAX,CAjBU,CAmBV;;AACA,EAAA,GAAG,CAAC,MAAJ,CAAa,IAAI,IAAI,CAAC,EAAV,GAAgB,EAAjB,GAAuB,IAAI,CAAC,UAAL,EAAvB,GAA6C,IAAI,IAAI,CAAC,EAAV,GAAgB,KAAjB,GAA0B,IAAI,CAAC,eAAL,EAAhF,EApBU,CAqBV;;AACA,EAAA,GAAG,CAAC,SAAJ,CAAc,GAAd,EAAmB,CAAnB,EAtBU,CAuBV;AACA;AACA;;AACA,EAAA,GAAG,CAAC,SAAJ,CAAc,KAAd,EAAqB,CAAC,EAAtB,EAA0B,CAAC,EAA3B,EA1BU,CA4BV;AACA;;AACA,EAAA,GAAG,CAAC,MAAJ,CAAa,IAAI,IAAI,CAAC,EAAV,GAAgB,EAAjB,GAAuB,IAAI,CAAC,UAAL,EAAvB,GAA6C,IAAI,IAAI,CAAC,EAAV,GAAgB,KAAjB,GAA0B,IAAI,CAAC,eAAL,EAAhF,EA9BU,CA+BV;;AACA,EAAA,GAAG,CAAC,SAAJ,CAAc,CAAd,EAAiB,IAAjB,EAhCU,CAiCV;;AACA,EAAA,GAAG,CAAC,SAAJ,CAAc,IAAd,EAAoB,CAAC,GAArB,EAA0B,CAAC,GAA3B,EAlCU,CAmCV;;AACA,EAAA,GAAG,CAAC,OAAJ;AAEA,EAAA,GAAG,CAAC,SAAJ;AACA,EAAA,GAAG,CAAC,GAAJ,CAAQ,GAAR,EAAa,GAAb,EAAkB,GAAlB,EAAuB,CAAvB,EAA0B,IAAI,CAAC,EAAL,GAAU,CAApC,EAAuC,KAAvC;AACA,EAAA,GAAG,CAAC,MAAJ;AAEA,EAAA,GAAG,CAAC,SAAJ,CAAc,GAAd,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,GAAzB,EAA8B,GAA9B;AAEA,EAAA,MAAM,CAAC,qBAAP,CAA6B,KAA7B;AACH;;AAED,SAAS,KAAT,GAAc;AACV,MAAI,GAAG,GAAG,IAAI,IAAJ,EAAV;AACA,MAAI,MAAM,GAAsB,QAAQ,CAAC,cAAT,CAAwB,OAAxB,CAAhC;AACA,MAAI,GAAG,GAAG,MAAM,CAAC,UAAP,CAAkB,IAAlB,CAAV;AAEA,EAAA,GAAG,CAAC,IAAJ;AACA,EAAA,GAAG,CAAC,SAAJ,CAAc,CAAd,EAAiB,CAAjB,EAAoB,GAApB,EAAyB,GAAzB;AACA,EAAA,GAAG,CAAC,SAAJ,CAAc,EAAd,EAAkB,EAAlB;AACA,EAAA,GAAG,CAAC,KAAJ,CAAU,GAAV,EAAe,GAAf;AACA,EAAA,GAAG,CAAC,MAAJ,CAAW,CAAC,IAAI,CAAC,EAAN,GAAW,CAAtB;AACA,EAAA,GAAG,CAAC,WAAJ,GAAkB,OAAlB;AACA,EAAA,GAAG,CAAC,SAAJ,GAAgB,OAAhB;AACA,EAAA,GAAG,CAAC,SAAJ,GAAgB,CAAhB;AACA,EAAA,GAAG,CAAC,OAAJ,GAAc,OAAd;AAEA,EAAA,GAAG,CAAC,IAAJ;;AACA,OAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,EAApB,EAAwB,CAAC,EAAzB,EAA6B;AACzB,IAAA,GAAG,CAAC,SAAJ;AACA,IAAA,GAAG,CAAC,MAAJ,CAAW,IAAI,CAAC,EAAL,GAAU,CAArB;AACA,IAAA,GAAG,CAAC,MAAJ,CAAW,GAAX,EAAgB,CAAhB;AACA,IAAA,GAAG,CAAC,MAAJ,CAAW,GAAX,EAAgB,CAAhB;AACA,IAAA,GAAG,CAAC,MAAJ;AACH;;AACD,EAAA,GAAG,CAAC,OAAJ;AAEA,EAAA,GAAG,CAAC,IAAJ;AACA,EAAA,GAAG,CAAC,SAAJ,GAAgB,CAAhB;;AACA,OAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,EAApB,EAAwB,CAAC,EAAzB,EAA6B;AACzB,QAAI,CAAC,GAAG,CAAJ,IAAS,CAAb,EAAgB;AACZ,MAAA,GAAG,CAAC,SAAJ;AACA,MAAA,GAAG,CAAC,MAAJ,CAAW,GAAX,EAAgB,CAAhB;AACA,MAAA,GAAG,CAAC,MAAJ,CAAW,GAAX,EAAgB,CAAhB;AACA,MAAA,GAAG,CAAC,MAAJ;AACH;;AACD,IAAA,GAAG,CAAC,MAAJ,CAAW,IAAI,CAAC,EAAL,GAAU,EAArB;AACH;;AACD,EAAA,GAAG,CAAC,OAAJ;AAEA,MAAI,GAAG,GAAG,GAAG,CAAC,UAAJ,EAAV;AACA,MAAI,GAAG,GAAG,GAAG,CAAC,UAAJ,EAAV;AACA,MAAI,EAAE,GAAG,GAAG,CAAC,QAAJ,EAAT;AAEA,EAAA,GAAG,CAAC,SAAJ,GAAgB,OAAhB,CA1CU,CA4CV;;AACA,EAAA,GAAG,CAAC,IAAJ;AACA,EAAA,GAAG,CAAC,MAAJ,CAAY,EAAE,IAAI,IAAI,CAAC,EAAL,GAAU,CAAd,CAAF,GAAsB,IAAI,CAAC,EAAL,GAAU,GAAX,GAAkB,GAAvC,GAA8C,IAAI,CAAC,EAAL,GAAU,KAAX,GAAoB,GAA7E;AACA,EAAA,GAAG,CAAC,SAAJ,GAAgB,EAAhB;AACA,EAAA,GAAG,CAAC,SAAJ;AACA,EAAA,GAAG,CAAC,MAAJ,CAAW,CAAC,EAAZ,EAAgB,CAAhB;AACA,EAAA,GAAG,CAAC,MAAJ,CAAW,EAAX,EAAe,CAAf;AACA,EAAA,GAAG,CAAC,MAAJ;AACA,EAAA,GAAG,CAAC,OAAJ,GApDU,CAsDV;;AACA,EAAA,GAAG,CAAC,IAAJ;AACA,EAAA,GAAG,CAAC,MAAJ,CAAY,IAAI,CAAC,EAAL,GAAU,EAAX,GAAiB,GAAjB,GAAwB,IAAI,CAAC,EAAL,GAAU,IAAX,GAAmB,GAArD;AACA,EAAA,GAAG,CAAC,SAAJ,GAAgB,EAAhB;AACA,EAAA,GAAG,CAAC,SAAJ;AACA,EAAA,GAAG,CAAC,MAAJ,CAAW,CAAC,EAAZ,EAAgB,CAAhB;AACA,EAAA,GAAG,CAAC,MAAJ,CAAW,GAAX,EAAgB,CAAhB;AACA,EAAA,GAAG,CAAC,MAAJ;AACA,EAAA,GAAG,CAAC,OAAJ,GA9DU,CAgEV;;AACA,EAAA,GAAG,CAAC,IAAJ;AACA,EAAA,GAAG,CAAC,MAAJ,CAAW,GAAG,GAAG,IAAI,CAAC,EAAX,GAAgB,EAA3B;AACA,EAAA,GAAG,CAAC,WAAJ,GAAkB,SAAlB;AACA,EAAA,GAAG,CAAC,SAAJ,GAAgB,SAAhB;AACA,EAAA,GAAG,CAAC,SAAJ,GAAgB,CAAhB;AACA,EAAA,GAAG,CAAC,SAAJ;AACA,EAAA,GAAG,CAAC,MAAJ,CAAW,CAAC,EAAZ,EAAgB,CAAhB;AACA,EAAA,GAAG,CAAC,MAAJ,CAAW,EAAX,EAAe,CAAf;AACA,EAAA,GAAG,CAAC,MAAJ;AACA,EAAA,GAAG,CAAC,SAAJ;AACA,EAAA,GAAG,CAAC,GAAJ,CAAQ,CAAR,EAAW,CAAX,EAAc,EAAd,EAAkB,CAAlB,EAAqB,IAAI,CAAC,EAAL,GAAU,CAA/B,EAAkC,IAAlC;AACA,EAAA,GAAG,CAAC,IAAJ;AACA,EAAA,GAAG,CAAC,SAAJ;AACA,EAAA,GAAG,CAAC,GAAJ,CAAQ,EAAR,EAAY,CAAZ,EAAe,EAAf,EAAmB,CAAnB,EAAsB,IAAI,CAAC,EAAL,GAAU,CAAhC,EAAmC,IAAnC;AACA,EAAA,GAAG,CAAC,MAAJ;AACA,EAAA,GAAG,CAAC,SAAJ,GAAgB,kBAAhB;AACA,EAAA,GAAG,CAAC,GAAJ,CAAQ,CAAR,EAAW,CAAX,EAAc,CAAd,EAAiB,CAAjB,EAAoB,IAAI,CAAC,EAAL,GAAU,CAA9B,EAAiC,IAAjC;AACA,EAAA,GAAG,CAAC,IAAJ;AACA,EAAA,GAAG,CAAC,OAAJ;AAEA,EAAA,GAAG,CAAC,SAAJ;AACA,EAAA,GAAG,CAAC,SAAJ,GAAgB,EAAhB;AACA,EAAA,GAAG,CAAC,WAAJ,GAAkB,SAAlB;AACA,EAAA,GAAG,CAAC,GAAJ,CAAQ,CAAR,EAAW,CAAX,EAAc,GAAd,EAAmB,CAAnB,EAAsB,IAAI,CAAC,EAAL,GAAU,CAAhC,EAAmC,IAAnC;AACA,EAAA,GAAG,CAAC,MAAJ;AAEA,EAAA,GAAG,CAAC,OAAJ;AAEA,EAAA,MAAM,CAAC,qBAAP,CAA6B,KAA7B;AACH","file":"animate.aa75d771.js","sourceRoot":"../src","sourcesContent":["let sun = new Image()\nlet moon = new Image()\nlet earth = new Image()\n\nwindow.onload = () => {\n    init()\n}\n\nfunction init() {\n    sun.src = 'https://mdn.mozillademos.org/files/1456/Canvas_sun.png'\n    moon.src = 'https://mdn.mozillademos.org/files/1443/Canvas_moon.png'\n    earth.src = 'https://mdn.mozillademos.org/files/1429/Canvas_earth.png'\n\n    window.requestAnimationFrame(solar)\n    window.requestAnimationFrame(clock)\n}\n\n// 太阳系动画\nfunction solar() {\n    let canvas = <HTMLCanvasElement>document.getElementById('demo1')\n    let ctx = canvas.getContext('2d')\n\n    // 将目标图形置于上层\n    ctx.globalCompositeOperation = 'destination-over'\n    ctx.clearRect(0, 0, 300, 300)\n\n    ctx.fillStyle = 'rgba(0, 0, 0, 0.4)'\n    ctx.strokeStyle = 'rgba(0, 153, 255, 0.4)'\n\n    // 保存当前状态\n    ctx.save()\n\n    // 将当前画笔移到圆心处\n    ctx.translate(150, 150)\n\n    let time = new Date()\n\n    // 地球顺时针旋转的角度\n    ctx.rotate(((2 * Math.PI) / 60) * time.getSeconds() + ((2 * Math.PI) / 60000) * time.getMilliseconds())\n    // 从当前圆心处 x 偏移量\n    ctx.translate(105, 0)\n    // 绘制当图片加载不出来 默认图\n    // ctx.fillRect(0, -12, 25, 25)\n    // 绘制地球的图片\n    ctx.drawImage(earth, -12, -12)\n\n    // 保存当前位置\n    // 基于地球为圆心的旋转角度\n    ctx.rotate(((2 * Math.PI) / 60) * time.getSeconds() + ((2 * Math.PI) / 60000) * time.getMilliseconds())\n    // 以地球为圆心的偏移\n    ctx.translate(0, 28.5)\n    // 绘制月亮\n    ctx.drawImage(moon, -3.5, -3.5)\n    // 加载上一次的 save\n    ctx.restore()\n\n    ctx.beginPath()\n    ctx.arc(150, 150, 105, 0, Math.PI * 2, false)\n    ctx.stroke()\n\n    ctx.drawImage(sun, 0, 0, 300, 300)\n\n    window.requestAnimationFrame(solar)\n}\n\nfunction clock() {\n    let now = new Date()\n    let canvas = <HTMLCanvasElement>document.getElementById('demo2')\n    let ctx = canvas.getContext('2d')\n\n    ctx.save()\n    ctx.clearRect(0, 0, 150, 150)\n    ctx.translate(75, 75)\n    ctx.scale(0.4, 0.4)\n    ctx.rotate(-Math.PI / 2)\n    ctx.strokeStyle = 'black'\n    ctx.fillStyle = 'white'\n    ctx.lineWidth = 8\n    ctx.lineCap = 'round'\n\n    ctx.save()\n    for (let i = 0; i < 12; i++) {\n        ctx.beginPath()\n        ctx.rotate(Math.PI / 6)\n        ctx.moveTo(100, 0)\n        ctx.lineTo(120, 0)\n        ctx.stroke()\n    }\n    ctx.restore()\n\n    ctx.save()\n    ctx.lineWidth = 5\n    for (let i = 0; i < 60; i++) {\n        if (i % 5 != 0) {\n            ctx.beginPath()\n            ctx.moveTo(117, 0)\n            ctx.lineTo(120, 0)\n            ctx.stroke()\n        }\n        ctx.rotate(Math.PI / 30)\n    }\n    ctx.restore()\n\n    let sec = now.getSeconds()\n    let min = now.getMinutes()\n    let hr = now.getHours()\n\n    ctx.fillStyle = 'black'\n\n    // hours\n    ctx.save()\n    ctx.rotate( hr * (Math.PI / 6) + (Math.PI / 360) * min + (Math.PI / 21600) * sec)\n    ctx.lineWidth = 14\n    ctx.beginPath()\n    ctx.moveTo(-20, 0)\n    ctx.lineTo(80, 0)\n    ctx.stroke()\n    ctx.restore()\n\n    // min\n    ctx.save()\n    ctx.rotate((Math.PI / 30) * min + (Math.PI / 1800) * sec)\n    ctx.lineWidth = 10\n    ctx.beginPath()\n    ctx.moveTo(-28, 0)\n    ctx.lineTo(112, 0)\n    ctx.stroke()\n    ctx.restore()\n\n    // sec\n    ctx.save()\n    ctx.rotate(sec * Math.PI / 30)\n    ctx.strokeStyle = '#d40000'\n    ctx.fillStyle = '#d40000'\n    ctx.lineWidth = 6\n    ctx.beginPath()\n    ctx.moveTo(-30, 0)\n    ctx.lineTo(83, 0)\n    ctx.stroke()\n    ctx.beginPath()\n    ctx.arc(0, 0, 10, 0, Math.PI * 2, true)\n    ctx.fill()\n    ctx.beginPath()\n    ctx.arc(95, 0, 10, 0, Math.PI * 2, true)\n    ctx.stroke()\n    ctx.fillStyle = 'rgba(0, 0, 0, 0)'\n    ctx.arc(0, 0, 3, 0, Math.PI * 2, true)\n    ctx.fill()\n    ctx.restore()\n\n    ctx.beginPath()\n    ctx.lineWidth = 14\n    ctx.strokeStyle = '#325fa2'\n    ctx.arc(0, 0, 142, 0, Math.PI * 2, true)\n    ctx.stroke()\n\n    ctx.restore()\n\n    window.requestAnimationFrame(clock)\n}"]}